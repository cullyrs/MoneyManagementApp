<!DOCTYPE html>
<!--
Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
Click nbfs://nbhost/SystemFileSystem/Templates/ClientSide/html.html to edit this template
-->
<!--This will serve as the main  page for the website if user is logged in -->
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Money Management App">
    <meta name="keywords" content="money, management, app, budget, finance">

    <link rel="stylesheet" href="css/stylesheet.css">

    <!-- scripts -->
    <script src="js/dateScript.js"></script>
    <script src="js/addExpense.js"></script>
    <script src="js/fillTableData.js"></script>
    <script src="js/headerMenu.js"></script>

    <title>Dashboard</title>
</head>

<body>
    <header>
        <img src="imgs/icon.png" alt="icon homepage">

        <!-- dashboard if user logged in, login if not -->
        <h2><a href="dashboard.html">Expense Tracker</a></h2>
        <nav class="main-nav">
            <ul>
                <li><a href="about.html">About</a></li>
                <li><a href="contact.html">Contact</a></li>
                <li class="dropdown">
                    <div class="menu-title">Settings</div>
                    <nav class="settings-dropdown">
                        <ul class="menu-dropdown">
                            <li><a href="">Export Data to CSV</a></li>
                            <li><a href="profile.html">User Profile</a></li>
                            <li><a href="manage-categories.html">Manage Categories</a></li>
                        </ul>
                    </nav>
                </li>
                
                    <li><a href="">Log Out</a></li><!-- replace with logout function -->

            </ul>
        </nav>
    </header>

    <!-- TODO: replace with js db user saved goals -->
    <main class="dashboard">
        <div class="budget-goals">
            <span id="budget-display">Budget - $0/9,999</span>
            <span id="goal-display">Goal - $0/9,999</span>
        </div>


        <div class="month-navigation">
            <button id="prev-month" name="Previous Month">&lt;</button>

            <!-- Button directly opens the month selector -->
            <input type="month" id="month-selector" name="Select Month" aria-label="Select Month">

            <button id="next-month" name="Next Month">&gt;</button>
        </div>



        <!-- a central table where CATEGORY IS parent with DROP DOWN, expenses are underneath as children
             The current month will display on top as the table header with arrows buttons to the left and right
             to cycle through the months. user can select the actual month to bring up a calendar as well to select
             specific months. income displays under the month as the total income for the month. at the bottom of the 
             table shows the total balance to date. to the right of income theres a "+" button to add an expense which 
             brings up a menu to the right to add an expense -->

        <!-- replace with script to get data and fill tables -->

        <div class="finance-container">
            <div id="net-balance" class="total-text">
                <span>Net Balance:</span> <span id="Income">$0.00</span>
                <button id="add-expense-button" aria-label="Add Expense">+</button>
            </div>

            <section class="table">
                <table>
                    <thead>
                        <tr>
                            <th data-key="category">Category</th>
                            <th data-key="description">Description</th>
                            <th data-key="date">Date</th>
                            <th data-key="amount">Amount</th>
                        </tr>
                    </thead>
                    <tbody id="expense-table-body">
                        <!-- rows will be dynamically populated here -->
                    </tbody>
                </table>
            </section>


            </section>
            <div id="total-balance" class="total-text">
                <span>Total Balance:</span> <span id="TotalBalance">$0.00</span>
            </div>
        </div>



        <!-- Add expense here: 
               HIGHLIGHT EXPENSE OR INCOME TOP SELECTIONS
               FORM:
               CATEGORY DROPDOWN
                IF EXPENSE clicked, SHOW EXPENSE CATEGORIES and subtract income. IF INCOME, SHOW INCOME CATEGORIES and add income           
            DATE IS CALENDAR DAY SELECT
            ENTER AMOUNT
            CUSTOM USER DESCRIPTION
            IF DESCRIPTION IS EMPTY, USE CATEGORY NAME
            custom icons stored for user custom category
            submit button underneath all -->
        <div id="add-expense-container">
            <section class="add-expense">
                <button id="close-add-expense" aria-label="Close Menu">&times;</button>
                <h2>Add Expense</h2>

                <!-- Income and Expense Toggle Buttons -->
                <div class="toggle-buttons">
                    <button id="income-button" class="toggle-button">Income</button>
                    <button id="expense-button" class="toggle-button">Expense</button>
                </div>

                <form class="add-expense-form" action="/addExpense" method="post" name="add-expense-title">
                    <label for="category">Category:</label>
                    <select id="category" name="category" required="true"></select>
                    <div id="custom-category-container">
                        <label for="custom-category">Enter Custom Category:</label>
                        <input type="text" id="custom-category" name="custom-category" placeholder="Category">
                    </div>
                    <label for="date">Date:</label>
                    <input type="date" id="date" name="date" required>
                    <label for="amount">Amount:</label>
                    <input type="number" id="amount" name="amount" step="0.01" required>
                    <span id="amount-validation" class="validation-error"></span>
                    <label for="description">Description:</label>
                    <input type="text" id="description" name="description">
                    <button type="submit" id="submit">Submit</button>
                </form>

            </section>
        </div>

    </main>

    <footer>
        <p>&copy; 2025 Expense Tracker. All rights reserved.</p>
    </footer>


</body>

</html>